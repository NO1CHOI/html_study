<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>video-1</title>
    <style>
        * {box-sizing: border-box;margin:0; padding:0;}
        body {height: 500vh; overflow-x: hidden;}
        .container {}
        .container video {
            position:fixed;left:0; top:0;
            width:100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <video src="/video/-10686.mp4"muted></video>
    </div>

    <script>

        //변수
        const videoApple = document.querySelector('.container video')
        console.log(videoApple)

        //동영상 미리로드(속도 개선) 안써도괜찮지만 있으면 간지는것
        loadVideo()
        function loadVideo(){
            videoApple.addEventListener('loadeddata',()=>{
                //loadeddata : 동영상의 프레임을 모두 로드 후
                console.log('동영상 로드 완료')
                console.log(videoApple.duration) //동영상이 재생되는 시간 확인
                scroll_video()//로드 후 스크롤 제어 비디오 함수 호출

            })
        }
        //-----------------------------------------------------------
        function scroll_video(){//스크롤제어 비디오 함수 생성
            window.addEventListener('scroll',()=>{
                //1.현재 스크롤위치가 어디인가?
                let progress = pageYOffset/(document.body.offsetHeight - window.innerHeight)
                console.log(progress)
                videoApple.currentTime = videoApple.duration*progress
                // videoApple.currenTIme = video.duration

            })

        }




    </script>
</body>
</html>
